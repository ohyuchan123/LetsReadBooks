# 1. IP

오늘날 우리가 사용하고 있는 인터넷(Internet)의 근간이 되는 프로토콜을 흔히 **TCP/IP** 라고 부릅니다.  
이 호칭은 단지 **TCP(Transmission Control Protocl)와 IP(Internet Protocol)** 두 프로토콜을 지칭하는 것이 아니고,  
인터넷 기능을 가능하게 하는 프로토콜 그룹을 통칭하는 것으로 그 중에 대표적인 프로토콜인 TCP와 IP의 이름을 내세운 것입니다.

## 1.1 인터넷 프로토콜의 구조

TCP/IP 프로토콜이 사용자에게 제공하는 서비스는 네트워크 내에서 독립적으로 동작하는 두 프로세스 사이에 신뢰성 있는 메시지 전달입니다.  
두 프로세스는 네트워크 내에 포함된 임의의 두 호스트 상에서 실행되고 있습니다.

![Alt text](/핵심%20데이터%20통신/Contents/chapter15/프로세스_사이의_메시지_전송.png)

그러므로 그림에서 TCP/IP를 이용하여 메시지를 서로 주고받는 두 호스트가 TCP/IP 사용자 입니다. 그리고 TCP/IP가 이용하는 서비스는 인터넷을  
구성하고 있는 각 서브 네트워크의 통신 기능이라고 볼 수 있습니다. 이러한 관점에서 TCP/IP 프로토콜 계층구조라고 하는 인터넷 프로토콜의 구조는  
다음과 같은 계층적인 구성을 가집니다.

![Alt text](/핵심%20데이터%20통신/Contents/chapter15/인터넷_프로토콜_계층구조.png)

TCP와 IP 계층을 중심으로 TCP 사용자 계층인 응용 계층이 있고, IP 계층이 이용하는 네트워크 기능을 제공하는 **네트워크 액세스(network access) 계층** 이  
가장 아래에 위치합니다. 이런 식의 구분을 통해 각 기능들은 서로 간의 간섭을 최소화 할 수 있어, 유지와 보수에 있어 편리하다는 이점이 있다.

## 1.2 OSI vs TCP/IP 계층 구조

네트워크 액세스 계층은 독립적으로 운영되는 네트워크의 기능을 담당하는 계층으로 OSI 7계층구조에 비교해 보면 물리 계층과 데이터 링크 계층 그리고  
네트워크 계층의 기능을 모두 포함하는 부분으로 이해할 수 있습니다.

인터넷이 구축되어 있는 망이 LAN일 경우네는 LAN 프로토콜 계층구조가 네트워크 액세스 계층에 대응되고 WAN일 경우에는 ATM이나 X.25와 같은 WAN 프로토콜이 네트워크 액세스 계층일 수 있습니다.

![Alt text](/핵심%20데이터%20통신/Contents/chapter15/역할.png)

각 계층의 역할에 대한 설명에 앞서, 같은 데이터라고 하더라도 계층별로 부르는 명칭이 달라지게 됩니다.  
이는 TCP/IP의 각 계층을 거치면서 데이터에 여러 프로토콜의 헤더가 추가됨에 따라 명칭을 달리했기 때문입니다.

데이터의 전송 과정에서 1계층에서 4계층까지 순서대로 프레임(Frame), 패킷(Packet) 혹은 데이터그램(Datagram), 세그먼트(Segment),  
데이터(Data) 혹은 메세지(Message)로 데이터를 구분하여 표현합니다.

IP 계층에는 패킷 전달을 담당하는 IP 프로토콜 이외에 IP 프로토콜이 적절히 동작하도록 도와주는 관련 프로토콜이 함께 존재합니다.  
호스트의 물리 주소와 IP 주소의 대응 관계를 알아내기 위해서 필요한 ARP(Addrees Resolution Protocl), IP 프로토콜이 정상적으로  
목적지에 패킷을 전달할 수 없는 경우에 관련 정보를 송신자에게 알려주기 위해서 사용되는 ICMP(Internet Control Management Protocol), 그룹  
통신을 위한 그룹 멤버쉽 관리 프로토콜인 IGMP(Internet Group Management Protocol)이 있습니다.
