# 오류 검출과 정정

송신 측에서 수신 측으로 데이터가 전달되는 도중에 여러 가지 원인에 의하여 데이터에 오류가 발생할 수 있습니다.  
전송 도중 데이터 내용의 변질에 따른 오류를 처리하는 것이 통신 데이터의 무결성(integrity)을 위해서 무엇보다 중요합니다.

# 1. 오류 검출

데이터가 전송되는 도중에 발생할 수 있는 오류 상황은 데이터가 전송 도중에 유실되는 경우와 데이터의 내용이 변경되는 경우 등이 존재합니다.  
전송 도중에 유실되는 경우에 수신측은 유실 유무를 알 수 없기 때문에 아무런 대응을 할 수 없습니다. 이 문제를 해결하기 위해서는 수신 측에서  
데이터 수신이 이루어지면 이에 따른 응답을 송신 측에 보내게 함으로써 해결될 수 있습니다.

즉, 송신 측은 데이터를 보내고 정상적인 수신에 따른 받음으로써 이를 확인할 수 있고, 정상적인 응답이 없을 경우에는 데이터가 송신 중에 유실  
되었음을 알 수 있습니다.

두 번째 경우는 데이터 내용이 변경되는 경우인데 데이터 전송 도중에 외부로부터의 신호 간섭 등의 다양한 원인으로 인해 전송되는 신호 파형이  
변질되고 데이터 내용이 바뀔 수 있습니다. 수신 측에서는 오류가 발생한 데이터가 도착했을 때, 오류 유무를 판단할 수 있어야지만 정상적인 데이터  
수신을 위한 처리가 가능합니다. 수신 메시지 내에 오류 발생 유무를 알아내는 것을 **오류 검출(error detection)** 이라 합니다.

한편 오류가 발생하면 이를 직접 정정하거나 재전송을 요구하여 정상적인 메시지를 수신하도록 하는 **오류 정정(error correction)** 이 요구 됩니다.

## 1.1 패리티 비트

패리티 비트(parity bit)는 **데이터 내에 값이 1인 비트의 개수를 카운트하여 그 수가 홀수 또는 짝수가 되도록 붙여 주는 잉여의 한 비트** 를 의미합니다.  
만약 홀수가 되도록 약속했다면 홀수 패리티(odd parity) 방식이 되고, 짝수가 되도록 약속했다면 짝수 패리티(even parity) 방식이 됩니다.  
홀수 패리티를 이용할 것인지 짝수 패리티를 이용할 것인지는 통신 이전에 송신자와 수신자 사이에서 협상을 통하여 정해집니다.

## 1.2 순환 중복 검사

**순환 중복 검사(CRC)** 는 버스티(bursty) 오류 발생 시에 오류 검출에 적합한 방법으로 알려져 이씁니다. 현재 HDLC를 비롯한 많은 프로토콜에서 순한 중복 검사를  
사용하고 있는 것을 볼 수 없습니다.

순환 중복 검사 방법은 2진 나누기 연산과 유사한 방법으로 계산합니다. 전송의 대상이 되는 전체 데이터에 대하여 송신자 사이에 약속된 비트 패턴을 이용하여 2진 나누기와 유사한 연산을  
수행하여 나온 나머지 비트 열을 전송 데이터에 붙여서 사용합니다. 수신 측에서도 이와 유사한 연산을 하여 나머지가 0이 나오면 오류가 없는 것으로 판단하고, 그렇지 않으면  
오류가 발생한 것으로 판단하여 재전송을 요구합니다.

# 2. 오류 정정

오류 검출은 오류 발생의 유무를 판단하는데 비해 오류 정정(error correction)은 오류가 발생했을 때 이를 바로잡는 기능을 의미합니다. 흔히 사용하는 방법은 오류 검출이  
되었을 때 재전송을 이용하여 정정하지만, 또 다른 방법으로 수신 측에서 잘못된 비트를 바로잡는 **순방향 오류 정정(Forward Error Correction : FEC)** 가 있습니다.

순방향 오류 정정을 위해서는 데이터를 전송할 때 오류 정정 코드를 첨가해야 합니다. 오류 검출 코드와 달리 오류 정정 코드는 그 크기가 데이터 크기에 비교될 정도로 매우 큽니다.  
그러므로 일반적으로는 순방향 오류 정정은 잘 사용되지 않지만, 오류에 따른 재전송이 어려운 환경에서는 사용되는 경우도 있습니다.
